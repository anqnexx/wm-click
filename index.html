<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Clicker Game</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Comic+Sans+MS&display=swap">
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(to bottom, #90ee90, #ffffff);
            color: #333;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        #gameContainer {
            margin: 20px auto;
            width: 300px;
            border: 1px solid #333;
            border-radius: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.8);
        }
        button {
            padding: 10px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            font-size: 14px;
        }
        button:hover {
            background-color: #45a049;
        }
        .hidden {
            display: none;
        }
        .shop, .boosts {
            margin-top: 10px;
        }
        .back-button {
            background-color: #f44336;
        }
        .back-button:hover {
            background-color: #d32f2f;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <h1>Coin Clicker</h1>
        <div id="coinsDisplay">Coins: 0</div>
        <button id="clickButton">Click me!</button>
        
        <div class="shop hidden">
            <h2>Shop</h2>
            <button id="buyWatermelonBuddy">Watermelon Buddy (100 coins)</button>
            <button id="buyGreenBrother">Green Brother (200 coins)</button>
            <button id="buyFruitBuddy">Fruit Buddy (300 coins)</button>
            <button id="buySummerBuddy">Summer Buddy (400 coins)</button>
            <button id="buyEnergyBall">Energy Ball (500 coins)</button>
            <button class="back-button" id="backToGameFromShop">Back</button>
        </div>
        
        <div class="boosts hidden">
            <h2>Boosts</h2>
            <button id="buyWatermelonBuddyBoost">Watermelon Buddy Boost (1000 coins)</button>
            <button class="back-button" id="backToGameFromBoosts">Back</button>
        </div>
        
        <button id="shopButton">Open Shop</button>
        <button id="boostButton">Open Boosts</button>
    </div>

    <script>
        let coins = 0;
        let hourlyEarnings = 0;
        const coinsDisplay = document.getElementById("coinsDisplay");
        const shopDiv = document.querySelector('.shop');
        const boostsDiv = document.querySelector('.boosts');

        document.getElementById("clickButton").addEventListener("click", () => {
            coins++;
            coinsDisplay.textContent = `Coins: ${coins}`;
        });

        document.getElementById("shopButton").addEventListener("click", () => {
            shopDiv.classList.remove("hidden");
            boostsDiv.classList.add("hidden");
        });

        document.getElementById("boostButton").addEventListener("click", () => {
            boostsDiv.classList.remove("hidden");
            shopDiv.classList.add("hidden");
        });

        document.getElementById("backToGameFromShop").addEventListener("click", () => {
            shopDiv.classList.add("hidden");
        });

        document.getElementById("backToGameFromBoosts").addEventListener("click", () => {
            boostsDiv.classList.add("hidden");
        });

        document.getElementById("buyWatermelonBuddy").addEventListener("click", () => {
            if (coins >= 100) {
                coins -= 100;
                hourlyEarnings += 10 / 60; // Earnings per second
                coinsDisplay.textContent = `Coins: ${coins}`;
                alert("You bought Watermelon Buddy! +10 per second");
                updatePrices();
            } else {
                alert("Not enough coins!");
            }
        });

        document.getElementById("buyGreenBrother").addEventListener("click", () => {
            if (coins >= 200) {
                coins -= 200;
                hourlyEarnings += 20 / 60; // Earnings per second
                coinsDisplay.textContent = `Coins: ${coins}`;
                alert("You bought Green Brother! +20 per second");
                updatePrices();
            } else {
                alert("Not enough coins!");
            }
        });

        document.getElementById("buyFruitBuddy").addEventListener("click", () => {
            if (coins >= 300) {
                coins -= 300;
                hourlyEarnings += 25 / 60; // Earnings per second
                coinsDisplay.textContent = `Coins: ${coins}`;
                alert("You bought Fruit Buddy! +25 per second");
                updatePrices();
            } else {
                alert("Not enough coins!");
            }
        });

        document.getElementById("buySummerBuddy").addEventListener("click", () => {
            if (coins >= 400) {
                coins -= 400;
                hourlyEarnings += 30 / 60; // Earnings per second
                coinsDisplay.textContent = `Coins: ${coins}`;
                alert("You bought Summer Buddy! +30 per second");
                updatePrices();
            } else {
                alert("Not enough coins!");
            }
        });

        document.getElementById("buyEnergyBall").addEventListener("click", () => {
            if (coins >= 500) {
                coins -= 500;
                alert("You bought Energy Ball! +500 energy");
                updatePrices();
            } else {
                alert("Not enough coins!");
            }
        });

        document.getElementById("buyWatermelonBuddyBoost").addEventListener("click", () => {
            if (coins >= 1000) {
                coins -= 1000;
                alert("You bought Watermelon Buddy Boost! +1 per click");
                updatePrices(true);
            } else {
                alert("Not enough coins!");
            }
        });

        // Update earnings every second
        setInterval(() => {
            coins += hourlyEarnings;
            coinsDisplay.textContent = `Coins: ${coins}`;
        }, 1000);

        // Function to update prices
        const updatePrices = (isBoost = false) => {
            if (isBoost) {
                // Update boost prices
                document.getElementById("buyWatermelonBuddyBoost").innerText = `Watermelon Buddy Boost (${Math.round(1000 * 2)} coins)`;
            } else {
                // Update shop prices
                document.getElementById("buyWatermelonBuddy").innerText = `Watermelon Buddy (${Math.round(100 * 1.2)} coins)`;
                document.getElementById("buyGreenBrother").innerText = `Green Brother (${Math.round(200 * 1.2)} coins)`;
                document.getElementById("buyFruitBuddy").innerText = `Fruit Buddy (${Math.round(300 * 1.2)} coins)`;
                document.getElementById("buySummerBuddy").innerText = `Summer Buddy (${Math.round(400 * 1.2)} coins)`;
                document.getElementById("buyEnergyBall").innerText = `Energy Ball (${Math.round(500 * 1.2)} coins)`;
            }
        };

        // Function to check if accessed through Telegram client
        const isTelegramClient = () => {
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            return /Telegram/.test(userAgent);
        };

        // Check for Telegram client
        if (!isTelegramClient()) {
            alert("Please use this web app through the Telegram client!");
            window.location.href = "https://telegram.org"; // Redirect to Telegram
        }
    </script>
</body>
</html>
